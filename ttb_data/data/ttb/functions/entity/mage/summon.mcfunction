summon zombie ~ ~ ~ {CustomName:'{"translate":"entity.ttb.mage"}',Tags:["ttb_entity","ttb_mob","ttb_mage","ttb_sound","ttb_health","ttb_vehicle","ttb_health_bar_vehicle","ttb_dynamic_model","ttb_fire_immune","ttb_exp_sim_immune","ttb_entity_init"],IsBaby:0b,ArmorItems:[{},{},{id:"white_stained_glass",Count:1b,tag:{Enchantments:[{id:"thorns",lvl:20}]}},{id:"white_stained_glass",Count:1b,tag:{CustomModelData:6830002}}],HandDropChances:[-500F,-500F],ArmorDropChances:[-500F,-500F,-500F,-500F],Attributes:[{Name:"generic.max_health",Base:150d},{Name:"generic.follow_range",Base:24d},{Name:"generic.attack_damage",Base:-512d},{Name:"generic.movement_speed",Base:0d},{Name:"generic.knockback_resistance",Base:1d}],Health:150f,Silent:1b,DeathLootTable:"ttb:entities/mage",ActiveEffects:[{Id:12b,Amplifier:0b,Duration:999999},{Id:14b,Amplifier:0b,Duration:999999}],Passengers:[{id:"area_effect_cloud",Age:-2147483648,Duration:-1,WaitTime:-2147483648,Tags:["ttb_entity","ttb_passenger","ttb_vehicle"],Passengers:[{id:"armor_stand",Tags:["ttb_entity","ttb_passenger","ttb_health_bar","ttb_health_bar_passenger"],Invisible:1b,Marker:1b,Small:1b,Invulnerable:1b,NoGravity:1b,CustomNameVisible:1b,CustomName:'""'}]}]}
loot replace entity @e[type=zombie,tag=ttb_mage,tag=ttb_entity_init,distance=...1,limit=1] weapon.mainhand loot ttb:items/mage_staff
